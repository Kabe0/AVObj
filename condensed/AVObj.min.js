"use strict";if(!Function.prototype.bind){Function.prototype.bind=function(oThis){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var aArgs=Array.prototype.slice.call(arguments,1),fToBind=this,fNOP=function(){},fBound=function(){return fToBind.apply(this instanceof fNOP?this:oThis||window,aArgs.concat(Array.prototype.slice.call(arguments)))};fNOP.prototype=this.prototype;fBound.prototype=new fNOP;return fBound}}var AVObj={init:function(){},deInit:function(){},create:function(){var newObj=this.createFinal();newObj.init.apply(newObj,arguments);return newObj},extend:function(macros){var newObject=this.createObject();if(macros){if(macros.generateSingleton){newObject.create=function(){console.error("Please use singleton constructor 'instance' instead.")};newObject.instance=function(){if(newObject._instance==null){newObject._instance=this.createFinal();this.init.apply(newObject._instance,arguments)}return newObject._instance}}if(macros.initOnPageLoad){AVObj._AVLoadList.push(newObject)}if(macros.initStaticObject){newObject.create=function(){console.error("Cannot create a static object!")};newObject.destroy=function(){console.error("Cannot destroy a static object!")}}if(macros.preventExtension){newObject._lockExtensions=true}}return newObject},destroy:function(){this.deInit()},createFinal:function(){return Object.create(this,{parent:{get:function(){console.error("Cannot get from keyword 'this.parent'. Please avoid any parent calls that could be scoped to other objects!");return null},enumerable:false,configurable:false},"super":{value:function(){console.error("Cannot call super(); with 'this.super'. please avoid any super calls that could be scoped to other objects!");return null},writable:false,configurable:false},_observers:{value:{},writable:false,configurable:false,enumerable:false}})},createObject:function(){return Object.create(this,{parent:{get:function(){return Object.getPrototypeOf(this)},enumerable:false,configurable:false},"super":{value:function(){return Object.getPrototypeOf(this).init.apply(this,arguments)},writable:false,configurable:false},_observers:{value:{},writable:false,configurable:false,enumerable:false}})},set properties(objs){if(typeof objs.advanced=="object"){Object.defineProperties(this,objs)}for(var obj in objs){if(typeof objs[obj]=="object"&&objs[obj]!=null&&(typeof objs[obj].get=="function"||typeof objs[obj].set=="function")){Object.defineProperty(this,obj,objs[obj])}else{this[obj]=objs[obj]}}if(this._lockExtensions){Object.preventExtensions(this)}},attachObserverModel:function(object){if(!object._observers&&!object.setObserverScope){Object.defineProperties(object,{_observers:{value:{},writable:false}});object.setObserverScope=AVObj.setObserverScope;object.fireObservers=AVObj.fireObservers;object.addObserver=AVObj.addObserver;object.removeObserver=AVObj.removeObserver}},fireObservers:function(eventName){if(this._observers[eventName])for(var i=this._observers[eventName].length;i--;){var dataArguments=Array.prototype.slice.call(arguments,1,arguments.length);var observerCall=this._observers[eventName][i];observerCall.function.apply(observerCall.scope,dataArguments)}},addObserver:function(eventName,functionName,scope){if(!scope){scope=window}if(!this._observers[eventName]){this._observers[eventName]=[]}if(scope[functionName]){this._observers[eventName].push({scope:scope,"function":scope[functionName]})}else{console.error(functionName+" Does not exist in the given scope of ",scope)}},getNumObservers:function(eventName){return this._observers[eventName]?this._observers[eventName].length:0},removeObserver:function(eventName,functionName,scope){var currentEvent=this._observers[eventName];for(var i=0;i<currentEvent.length;i++){if(currentEvent[i].scope==scope&&currentEvent[i].function==scope[functionName]){this._observers[eventName].splice(i,1);break}}},removeObservers:function(eventName){this._observers[eventName]=[]}};Object.defineProperties(AVObj,{_observers:{value:{},writable:false,configurable:false,enumerable:false},_AVLoadList:{value:[],writable:false,configurable:false,enumerable:false},parent:{value:AVObj}});window.addEventListener("load",function(){AVObj._AVLoadList.forEach(function(object){if(object._instance==null){object._instance=object.createFinal();object._instance.init()}else{console.warn("Object "+object+" has already been created.")}})});