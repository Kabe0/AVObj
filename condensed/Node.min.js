var Page=AVObj.extend({initStaticObject:true,preventExtensions:true});Page.properties={find:function(nodeName,parent){parent=parent==null?document:parent;var nodeFound;switch(nodeName.charAt(0)){case".":nodeFound=parent.getElementsByClassName(nodeName.slice(1,nodeName.length));break;case"#":nodeFound=parent.getElementById(nodeName.slice(1,nodeName.length));break;default:nodeFound=parent.getElementsByTagName(nodeName);break}if(!nodeFound){console.error("Node/nodes do not exist by that name!");return}if(nodeFound.length){var nodeArray=[];for(var i=0;i<nodeFound.length;i++){nodeArray.push(!nodeFound[i]._nodeDat?Node.create(nodeFound[i]):nodeFound[i]._nodeDat)}return nodeArray}return!nodeFound._nodeDat?Node.create(nodeFound):nodeFound._nodeDat},build:function(nodeName,nodeProperties){var n=document.createElement(nodeName);for(var i in nodeProperties){switch(i){case"text":n.appendChild(Page.text(nodeProperties[i]));break;case"htmlText":n.innerHTML=nodeProperties[i];break;default:n.setAttribute(i,nodeProperties[i]);break}}return Node.create(n)},empty:function(){for(var i=arguments.length;i--;)if(!arguments[i]||arguments[i].length===0)return true;return false},text:function(string){return document.createTextNode(string)}};var Node=AVObj.extend({preventExtensions:true});Node.properties={events:{CLICK:"click",MOUSE_DOWN:"mousedown",MOUSE_UP:"mouseup",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_OVER:"mouseover",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",DBL_CLICK:"dblclick"},init:function(element){this.bindedEvents={};this.element=element;this.element._nodeDat=this},add:function(){for(var i=0;i<arguments.length;i++){if(Node.isPrototypeOf(arguments[i])){this.element.appendChild(arguments[i].element)}else if(arguments[i]instanceof Text){this.element.appendChild(arguments[i])}else{console.log("Object argument "+(i+1)+" is not instance of Node!")}}return this},replace:function(){this.clearNodes();this.add.apply(this,arguments)},text:function(string,isHtml){if(!isHtml){this.element.append(Page.text(string))}else{this.element.innerHTML=strign}},remove:function(){if(this.element.parentNode){this.element.parentNode.removeChild(this.element)}},trim:function(){return this.element.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},getAppliedStyle:function(){return window.getComputedStyle(this.element,null)},getWidth:function(){var val=window.getComputedStyle(this.element,null).width;return parseInt(val.slice(0,val.length-2))},getHeight:function(){var val=window.getComputedStyle(this.element,null).height;return parseInt(val.slice(0,val.length-2))},clearNodes:function(){for(var i=this.element.childNodes.length;i--;)this.element.removeChild(this.element.firstChild);return this},attribute:function(name,value){var attribute;if(value!=null){attribute=this.element.setAttribute(name,value)}else{attribute=this.element.getAttribute(name)}return attribute},rmAttribute:function(name){this.element.removeAttribute(name)},inDocument:function(){var element=this.element;while(element=element.parentNode)if(element===document)return true;return false},build:function(){var n=Page.build.apply(Page,arguments);this.element.appendChild(n.element);return n},node:function(){return this.build.apply(this,arguments)},find:function(nodeName){return Page.find(nodeName,this.element)},P:function(nodeName){return this.find(nodeName)},addNObserver:function(eventName,functionName,scope,data){if(!this.bindedEvents[functionName]){this.element.addEventListener(eventName,this.bindedEvents[functionName]=this.fireEvent.bind(this,eventName,data),false)}this.addObserver(eventName,functionName,scope)},removeNObserver:function(eventName,functionName,scope){this.removeObserver(eventName,functionName,scope);if(!this.getNumObservers(eventName)){this.element.removeEventListener(eventName,this.bindedEvents[functionName],false);delete this.bindedEvents[functionName]}},removeNObservers:function(eventName){this.removeObservers(eventName);for(var func in this.bindedEvents){this.element.removeEventListener(eventName,this.bindedEvents[func],false)}delete this.bindedEvents},fireEvent:function(events,data,e){this.fireObservers(events,e,data)}};function node(){return Page.build.apply(Page,arguments)}function text(){return Page.text.apply(Page,arguments)}function P(nodeName){return Page.find(nodeName)}function empty(){return Page.empty.apply(Page,arguments)}