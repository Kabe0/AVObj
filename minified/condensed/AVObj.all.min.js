Function.prototype.bind||(Function.prototype.bind=function(b){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var a=Array.prototype.slice.call(arguments,1),c=this,e=function(){},d=function(){return c.apply(this instanceof e?this:b||window,a.concat(Array.prototype.slice.call(arguments)))};e.prototype=this.prototype;d.prototype=new e;return d});
function namespace(b,a){var c=window;switch(typeof b){case "object":c=b;break;case "string":b=b.split(".");for(var e=0,d=b.length;e<d;e++)b[e]in c||(c[b[e]]={}),c=c[b[e]]}null!=a&&(e=/^function\s*\([\s\w\d$,]*\s*\)\s*\{([\S\s]*)}$/g.exec(a.toString()),Function(["$scope"],e[1]).apply(this,[c]));return c}
function using(b){var a=[],c=[],e=[],d={},f,g=arguments.length;for(f=0;f<g;f++){switch(typeof arguments[f]){case "object":k=arguments[f];break;case "string":for(var h=arguments[f].split("."),k=window[h[0]],l=1,m=h.length;l<m;l++)k=k[h[l]]}for(var n in k)if("object"===typeof k[n]||"function"===typeof k[n])e.push(k),a.push(n),c.push(k[n])}d.on=function(d){if(0<g){var b=/^function\s*\([\s\w\d$,]*\s*\)\s*\{([\S\s]*)}$/g.exec(d.toString())[1]+" return ["+a.toString()+"];",b=Function(a,b).apply(this,c);
for(f=b.length;f--;)e[f][a[f]]=b[f]}else arguments[g].apply(this);return this};d.within=function(d,b){var g=window;switch(typeof d){case "object":g=d;break;case "string":d=d.split(".");for(var f=0,h=d.length;f<h;f++)d[f]in g||(g[d[f]]={}),g=g[d[f]]}if(null!=b)for(a.push("$scope"),c.push(g),f=/^function\s*\([\s\w\d$,]*\s*\)\s*\{([\S\s]*)}$/g.exec(b.toString())[1]+" return ["+a.toString()+"];",g=Function(a,f).apply(this,c),f=g.length-1;f--;)e[f][a[f]]=g[f];return this};return d}
function usingNamespace(b){var a=[],c=[],e=[],d,f=arguments.length-1;for(d=0;d<f;d++){switch(typeof arguments[d]){case "object":h=arguments[d];break;case "string":for(var g=arguments[d].split("."),h=window[g[0]],k=1,l=g.length;k<l;k++)h=h[g[k]]}for(var m in h)if("object"===typeof h[m]||"function"===typeof h[m])e.push(h),a.push(m),c.push(h[m])}if(0<f)for(d=/^function\s*\([\s\w\d,]*\s*\)\s*\{([\S\s]*)}$/g.exec(arguments[f].toString())[1]+" return ["+a.toString()+"];",c=Function(a,d).apply(this,c),d=
c.length;d--;)e[d][a[d]]=c[d];else arguments[f].apply(this)}var AVObj=null,AV={Utilities:{},App:{Display:{}}},AVObjMacro=function(b,a){};
(function(){function b(d){var a=!1;return Object.create(d,{_extensionCount:{value:d._extensionCount,writable:!1,configurable:!1,enumerable:!1},_methodTrack:{value:0,writable:!0,configurable:!1,enumerable:!1},callParent:{value:function(a,d,b){this._methodTrack+=null!=d?d:0;a=this["_parent"+(this._extensionCount-this._methodTrack++)][a].apply(this,b);this._methodTrack=0;return a},writable:!1,configurable:!1,enumerable:!1},_superTrack:{value:0,writable:!0,configurable:!1,enumerable:!1},super:{value:function(){var a=
this["_parent"+(this._extensionCount-this._superTrack++)];a.preInit.apply(this);a=a.init.apply(this,arguments);this._superTrack=0;return a}},parent:{get:function(){console.error("Cannot get from keyword 'this.parent'. Please avoid any parent calls that could be scoped to other objects!");return null},enumerable:!1,configurable:!1},_observers:{value:{},writable:!0,configurable:!1,enumerable:!1},create:{value:function(){console.error("You can't call create on an object that has already been built!");
return null},writable:!1,configurable:!1,enumerable:!1},destroyed:{value:function(){return a},writable:!0,configurable:!1,enumerable:!1},destroy:{value:function(){a||(this.clearObservers(),this.deInit(),a=!0,Object.seal(this))},writable:!1,configurable:!1}})}var a={},c={value:{},writable:!0,configurable:!1,enumerable:!1},e={value:function(){var d=b(this);d.preInit.apply(d);for(var c=0,g=d._macroInit.length;c<g;c++){var e=d._macroInit[c];a[e].init.call(d,d._usedMacros[e],arguments)}d.init.apply(d,
arguments);return d},writable:!1,configurable:!1};AVObjMacro=function(d,b,c,e){null==a[d]?a[d]={before:b,after:c,init:e}:console.error(d+" Macro is already defined!")};AVObjMacro("initOnPageLoad",function(a,b){},function(a,b){AVObj._AVLoadList.push(a)});AVObjMacro("preventExtension",function(a){a._lockExtensions={value:!0,writable:!1,configurable:!1,enumerable:!1}});AVObjMacro("generateSingleton",function(d,c){d.create={value:function(){console.error("Please use singleton constructor 'instance' instead.");
return null},writable:!1,configurable:!1};d._instance={value:null,writable:!0,configurable:!1};d.instance={get:function(){if(null==this._instance){this._instance=b(this);this.preInit.apply(this._instance);for(var d=0,c=newObj._macroInit.length;d<c;d++){var f=newObj._macroInit[d];a[f].init.call(newObj,newObj._usedMacros[f],arguments)}this.init.apply(this._instance,arguments)}return this._instance}}});AVObjMacro("initStaticObject",function(a){a.create={value:function(){console.error("Cannot create a static object!");
return null},writable:!1,configurable:!1};a.destroy={value:function(){console.error("Cannot destroy a static object!")},writable:!1,configurable:!1}});AVObj={preInit:function(){},init:function(){},deInit:function(){},extend:function(d,b){var g,h={parent:{get:function(){return Object.getPrototypeOf(this)},enumerable:!1,configurable:!1},_macroInit:{value:[]},_usedMacros:{value:d,writable:!1,configurable:!1,enumerable:!1},_observers:c,_extensionCount:{value:this._extensionCount+1,writable:!1,configurable:!1,
enumerable:!1},create:e};if(d)for(g in a)null!=d[g]&&null!=a[g].before&&a[g].before(h,d[g]);for(var k={},l=2;l<arguments.length;l++)for(var m in arguments[l]){var n=arguments[l][m];if(!k[n]){var p="",q;for(q in n)p+=q+" {"+n[q]+"} ";k[m]=function(){console.error("Method - "+m+" undefined in interface, with required arguments: "+p)}}}h._interfaces={value:k};h=Object.create(this,h);if(d)for(g in a)null!=d[g]&&(null!=a[g].after&&a[g].after(h,d[g]),null!=a[g].init&&h._macroInit.push(g));Object.defineProperty(h,
"_parent"+h._extensionCount,{value:this,writable:!1,configurable:!1,enumerable:!1});return h},set properties(a){"object"==typeof a.advanced&&Object.defineProperties(this,a.advanced);for(var b in a)"object"==typeof a[b]&&null!=a[b]?"function"==typeof a[b].get||"function"==typeof a[b].set||a[b].value?Object.defineProperty(this,b,a[b]):this[b]=a[b]:this[b]=a[b];for(var c in this._interfaces)if(null==this[c])this._interfaces[c]();this._lockExtensions&&Object.preventExtensions(this)},prop:function(a){this.properties=
a;return this},addObserver:function(a,b){var c=this._observers[a];c||(c=[]);-1==c.indexOf(b)&&c.push(b)},removeObserver:function(a,b){var c=this._observers[a].indexOf(b);-1<c&&this._observers[a].splice(c,1)},clearEvent:function(a){delete this._observers[a]},clearEvents:function(){this._observers={}},fireObservers:function(a,b,c){if(a=this._observers[a])for(var e=a.length;e--;){var k;(k=a[b])&&k.apply(k,c)}}};Object.defineProperties(AVObj,{_observers:{value:{},writable:!0,configurable:!1,enumerable:!1},
_extensionCount:{value:0,writable:!1,configurable:!1,enumerable:!1},_AVLoadList:{value:[],writable:!1,configurable:!1,enumerable:!1},parent:{value:AVObj},create:e});window.addEventListener("load",function(){AVObj._AVLoadList.forEach(function(a){null==a._instance?(a._instance=b(a),a._instance.preInit(),a._instance.init()):console.warn("Object "+a+" has already been created.")})})})();using().within(AV.Utilities,function(b){AVObjMacro("configComponent",function(a,b){a._componentName={value:b}},function(a,c){b.Node._componentList[c]=a});b.Node=AVObj.extend().prop({_componentList:{},preInit:function(){this._element=null;this._components=[];this._componentsMap={}},init:function(a,c,e){this._element="object"==typeof a?a:document.createElement(a);this._element._avNode=this;c||(c=[]);c.push(b.Attributes.create());for(a=0;a<c.length;a++)(e=c[a])&&e._componentName&&this._componentList[e._componentName]?
this.setComponent(e):console.error("Component ",e," does not exist or is not registered with the Node class. Make sure the MACRO configComponent is defined in the component.")},element:{get:function(){return this._element}},push:function(a){this._element.appendChild(a._element)},remove:function(a){this._element.removeChild(a._element)},removeSelf:function(){this._element.parentElement.removeChild(this._element)},children:{get:function(){for(var a=[],c=0,e=this._element.childNodes.length;c<e;c++)a[c]._avNode?
a.push(a[c]._avNode):a.push(b.Node.create(a[c]));return a}},clear:function(){var a=this._element.childNodes;this._element.innerHTML="";for(var b=a.length;b--;)this._element.removeChild(a[b])},getComponent:function(a){var b=this._componentsMap[a];return b&&0<b.length?this._componentsMap[a][0]:null},getComponents:function(a){return this._componentsMap[a]},setComponent:function(a){this._components.push(a);this._componentsMap[a._componentName]||(this._componentsMap[a._componentName]=[]);this._componentsMap[a._componentName].push(a);
a.setParent(this);a.start(this)},createComponent:function(a,b){var e=this._componentList[a];e&&(e=e.create.apply(e,b),this._components.push(e),e.setParent(this),e.start(this))}});b.Component=AVObj.extend({configComponent:"BaseComponent"}).prop({preInit:function(){this.node=null},setParent:function(a){this.node=a},start:function(){}});b.Attributes=b.Component.extend({configComponent:"Attributes"}).prop({preInit:function(){},start:function(){},attribute:function(a,b){return b?this.node.element.setAttribute(a,
b):this.node.element.getAttribute(a)},removeAttribute:function(a){}})});namespace("AV.Utilities",function(){this.CheckMedia=AVObj.extend({generateSingleton:!0}).prop({head:null,events:{value:{ON_TRUE:"onTrue",ON_FALSE:"onFalse",ON_CHANGE:"onChange"},writable:!1,configurable:!1},init:function(){this.queryList=[];window.addEventListener("resize",this.checkQueryStates.bind(this))},registerQuery:function(b){var a="_CheckMediaN"+this.queryList.length;b=P("head")[0].build("style",{id:a,media:b,text:"#"+a+"{left:1px}"});this.queryList.push(b);return b},removeQuery:function(b){b=
this.queryList.indexOf(b);this.queryList.splice(b,1)},checkQueryStates:function(){this.queryList.forEach(function(b){"1px"==b.getAppliedStyle().left?b.wasTrue||(b.fireObservers(CheckMedia.events.ON_TRUE),b.fireObservers(CheckMedia.events.ON_CHANGE,!0),b.wasTrue=!0):b.wasTrue&&(b.fireObservers(CheckMedia.events.ON_FALSE),b.fireObservers(CheckMedia.events.ON_CHANGE,!1),b.wasTrue=!1)})}})});XMLHttpRequest.prototype.addListener=function(b,a,c,e){this["__"+a+"_bindValue"]=e?c?c[a].bind(c,e):c[a]:c?c[a].bind(c):c[a];this.addEventListener(b,this["__"+a+"_bindValue"],!1)};XMLHttpRequest.prototype.removeListener=function(b,a){this.removeEventListener(b,this["__"+a+"_bindValue"],!1);delete this["__"+a+"_bindValue"]};
namespace("AV.Utilities",function(){this.Request=AVObj.extend().prop({init:function(b,a,c,e,d){this.request=new XMLHttpRequest;this.method=b;this.url=a;this.asynchronous=c;this.finishFunction=e;this.data=d;null==this.request?console.error("Browser does not support XMLHTTPRequest."):"string"===typeof a?(this.request.addListener("error","transferError",this),"POST"===b?this.sendPostRequest():"GET"===b?this.sendGetRequest():console.error('no method defined. Please set to "POST" or "GET".')):console.error("URL is not defined or is not a string.")},
deInit:function(){delete this.request;delete this.method;delete this.url;delete this.asynchronous;delete this.finishFunction;delete this.data},transferError:function(){console.error("An error has occurred while transferring the data.")},sendGetRequest:function(){this.request.open(this.method,this.url+"?"+this.convertToString(),this.asynchronous);this.asynchronous?(this.request.addListener("load","fireFunction",this),this.request.send(null)):(this.request.send(null),this.finishFunction({responseText:this.request.responseText}))},
sendPostRequest:function(){this.request.open(this.method,this.url,this.asynchronous);this.asynchronous?(this.request.addListener("load","fireFunction",this),this.request.send(this.convertToForm())):(this.request.send(this.convertToForm()),this.finishFunction({responseText:this.request.responseText}),this.destroy())},fireFunction:function(b){this.request.removeListener("error","transferError");this.request.removeListener("load","fireFunction");this.finishFunction(b.currentTarget);this.destroy()},kill:function(){this.request.removeListener("error",
"transferError");this.request.removeListener("load","fireFunction");this.request.abort()},convertToString:function(){var b="";if("object"==typeof this.data){var a=!1,c;for(c in this.data)a?b+="&"+c+"="+encodeURIComponent(this.data[c]):(a=!0,b+=c+"="+encodeURIComponent(this.data[c]))}else"string"==typeof this.data&&(b=this.data);return b},convertToForm:function(){var b;if("object"==typeof this.data&&"undefined"!=typeof FormData)if(!1===this.data instanceof FormData){b=new FormData;for(var a in this.data)b.append(a,
this.data[a])}else b=this.data;else b=this.convertToString();"string"==typeof b&&this.request.setRequestHeader("Content-type","application/x-www-form-urlencoded");return b}})});namespace("AV.Utilities",function(){AVObj.extend().prop={play:function(b,a,c){},pause:function(){}}});
