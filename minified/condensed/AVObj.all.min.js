Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a||window,b.concat(Array.prototype.slice.call(arguments)))};d.prototype=this.prototype;e.prototype=new d;return e});
function namespace(a,b){var c=window;a=a.split(".");for(var d=0,e=a.length;d<e;d++)a[d]in c||(c[a[d]]={}),c=c[a[d]];null!=b&&b.apply(c);return c}
function usingNamespace(a){var b=[],c=[],d=[],e,l=arguments.length-1;for(e=0;e<l;e++){for(var f=arguments[e].split("."),g=window[f[0]],h=1;h<f.length;h++)g=g[f[h]];for(var k in g)if("object"===typeof g[k]||"function"===typeof g[k])d.push(g),b.push(k),c.push(g[k])}e=/^function\s*\([\s\w\d,]*\s*\)\s*\{([\S\s]*)}$/g.exec(arguments[l].toString())[1]+" return ["+b.toString()+"];";c=Function(b,e).apply(this,c);for(e=c.length;e--;)d[e][b[e]]=c[e]}var AVObj=null,AVObjMacro=function(a,b){};
(function(){function a(a){var b=!1;return Object.create(a,{_extensionCount:{value:a._extensionCount,writable:!1,configurable:!1,enumerable:!1},_methodTrack:{value:0,writable:!0,configurable:!1,enumerable:!1},callParent:{value:function(a,e,b){this._methodTrack+=null!=e?e:0;a=this["_parent"+(this._extensionCount-this._methodTrack++)][a].apply(this,b);this._methodTrack=0;return a},writable:!1,configurable:!1,enumerable:!1},_superTrack:{value:0,writable:!0,configurable:!1,enumerable:!1},super:{value:function(){var a=
this["_parent"+(this._extensionCount-this._superTrack++)].init.apply(this,arguments);this._superTrack=0;return a}},parent:{get:function(){console.error("Cannot get from keyword 'this.parent'. Please avoid any parent calls that could be scoped to other objects!");return null},enumerable:!1,configurable:!1},_observers:{value:{},writable:!0,configurable:!1,enumerable:!1},create:{value:function(){console.error("You can't call create on an object that has already been built!");return null},writable:!1,
configurable:!1,enumerable:!1},destroyed:{value:function(){return b},writable:!0,configurable:!1,enumerable:!1},destroy:{value:function(){b||(this.clearObservers(),this.deInit(),b=!0,Object.seal(this))},writable:!1,configurable:!1}})}var b={value:{},writable:!0,configurable:!1,enumerable:!1},c={value:function(){var e=a(this);e.init.apply(e,arguments);return e},writable:!1,configurable:!1},d={};AVObjMacro=function(a,b,c){null==d[a]?d[a]={before:b,after:c}:console.error(a+" Macro is already defined!")};
AVObjMacro("initOnPageLoad",function(a,b){},function(a,b){AVObj._AVLoadList.push(a)});AVObjMacro("preventExtension",function(a){a._lockExtensions={value:!0,writable:!1,configurable:!1,enumerable:!1}});AVObjMacro("generateSingleton",function(b,c){b.create={value:function(){console.error("Please use singleton constructor 'instance' instead.");return null},writable:!1,configurable:!1};b._instance={value:null,writable:!0,configurable:!1};b.instance={get:function(){null==this._instance&&(this._instance=
a(this),this.init.apply(this._instance,arguments));return this._instance}}});AVObjMacro("initStaticObject",function(a){a.create={value:function(){console.error("Cannot create a static object!");return null},writable:!1,configurable:!1};a.destroy={value:function(){console.error("Cannot destroy a static object!")},writable:!1,configurable:!1}});AVObj={init:function(){},deInit:function(){},extend:function(a,l){var f,g={parent:{get:function(){return Object.getPrototypeOf(this)},enumerable:!1,configurable:!1},
_observers:b,_extensionCount:{value:this._extensionCount+1,writable:!1,configurable:!1,enumerable:!1},create:c};if(a)for(f in d)null!=a[f]&&null!=d[f].before&&d[f].before(g,a[f]);for(var h={},k=2;k<arguments.length;k++)for(var m in arguments[k]){var n=arguments[k][m];if(!h[n]){var p="",q;for(q in n)p+=q+" {"+n[q]+"} ";h[m]=function(){console.error("Method - "+m+" undefined in interface, with required arguments: "+p)}}}g._interfaces={value:h};g=Object.create(this,g);if(a)for(f in d)null!=a[f]&&null!=
d[f].after&&d[f].after(g,a[f]);Object.defineProperty(g,"_parent"+g._extensionCount,{value:this,writable:!1,configurable:!1,enumerable:!1});return g},set properties(a){"object"==typeof a.advanced&&Object.defineProperties(this,a.advanced);for(var b in a)"object"==typeof a[b]&&null!=a[b]?"function"==typeof a[b].get||"function"==typeof a[b].set||a[b].value?Object.defineProperty(this,b,a[b]):this[b]=a[b]:this[b]=a[b];for(var c in this._interfaces)if(null==this[c])this._interfaces[c]();this._lockExtensions&&
Object.preventExtensions(this)},prop:function(a){this.properties=a;return this},attachObserverModel:function(a){a._observers||a.setObserverScope||(Object.defineProperties(a,{_observers:{value:{},writable:!1}}),a.setObserverScope=AVObj.setObserverScope,a.fireObservers=AVObj.fireObservers,a.addObserver=AVObj.addObserver,a.removeObserver=AVObj.removeObserver,a.getNumObservers=AVObj.getNumObservers)},fireObservers:function(a){if(this._observers[a])for(var b=this._observers[a].length;b--;){var c=Array.prototype.slice.call(arguments,
1,arguments.length),d=this._observers[a][b];d.function.apply(d.scope,c)}},addObserver:function(a,b,c){c||(c=window);this._observers[a]||(this._observers[a]=[]);c[b]?this._observers[a].push({scope:c,function:c[b]}):console.error(b+" Does not exist in the given scope of ",c)},getNumObservers:function(a){return this._observers[a]?this._observers[a].length:0},removeObserver:function(a,b,c){for(var d=this._observers[a],h=0;h<d.length;h++)if(d[h].scope==c&&d[h].function==c[b]){this._observers[a].splice(h,
1);break}0==d.length&&delete this._observers[a]},removeObservers:function(a){delete this._observers[a]},clearObservers:function(){this._observers={}}};Object.defineProperties(AVObj,{_observers:{value:{},writable:!0,configurable:!1,enumerable:!1},_extensionCount:{value:0,writable:!1,configurable:!1,enumerable:!1},_AVLoadList:{value:[],writable:!1,configurable:!1,enumerable:!1},parent:{value:AVObj},create:c});window.addEventListener("load",function(){AVObj._AVLoadList.forEach(function(a){null==a._instance?
(a._instance=a.createFinal(),a._instance.init()):console.warn("Object "+a+" has already been created.")})})})();namespace("AVObj.Utilities",function(){this.Page={};this.Node={};this.node={};this.text={};this.P={}});
usingNamespace("AVObj.Utilities",function(){Page=AVObj.extend({initStaticObject:!0,preventExtensions:!0}).prop({find:function(a,b){b=null==b?document:b;var c;if(null!=a&&0<a.length)switch(a.charAt(0)){case ".":c=b.getElementsByClassName(a.slice(1,a.length));break;case "#":c=b.getElementById(a.slice(1,a.length));break;default:null!=a&&0<a.length&&(c=b.getElementsByTagName(a))}if(c)return Page.generateNodeFromElements(c);console.error("Node/nodes do not exist by that name!")},generateNodeFromElements:function(a){if(a.length){for(var b=
[],c=0;c<a.length;c++)b.push(a[c]._nodeDat?a[c]._nodeDat:Node.create(a[c]));return b}return a._nodeDat?a._nodeDat:AVObj.Utilities.Node.create(a)},build:function(a,b){var c=document.createElement(a),d;for(d in b)switch(d){case "text":c.appendChild(AVObj.Utilities.text(b[d]));break;case "htmlText":c.innerHTML=b[d];break;default:c.setAttribute(d,b[d])}return Node.create(c)},empty:function(){for(var a=arguments.length;a--;)if(!arguments[a]||0===arguments[a].length)return!0;return!1},text:function(a){return document.createTextNode(a)}});
Node=AVObj.extend({preventExtensions:!1}).prop({events:{value:{CLICK:"click",MOUSE_DOWN:"mousedown",MOUSE_UP:"mouseup",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_OVER:"mouseover",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",DBL_CLICK:"dblclick"},writable:!1,configurable:!1},init:function(a){this.bindedEvents={};this.element=a;this.element._nodeDat=this},deInit:function(){this.clearNodes();this.remove();this.clearNObservers();delete this.element._nodeDat;delete this.element;delete this.bindedEvents},
add:function(){for(var a=0;a<arguments.length;a++)Node.isPrototypeOf(arguments[a])?this.element.appendChild(arguments[a].element):arguments[a]instanceof Text?this.element.appendChild(arguments[a]):console.log("Object argument "+(a+1)+" is not instance of Node!");return this},replace:function(){this.clearNodes();this.add.apply(this,arguments)},remove:function(){this.element.parentNode&&this.element.parentNode.removeChild(this.element)},find:function(a){return Page.find(a,this.element)},P:function(a){return this.find(a)},
children:{get:function(){return Page.generateNodeFromElements(this.element.childNodes)}},clearNodes:function(a){for(var b=function(c){for(var d=c.childNodes.length;d--;){var f=c.childNodes[d];f._nodeDat?a?f._nodeDat.remove():f._nodeDat.destroy():(b(f),c.removeChild(f))}},c=this.element.childNodes.length;c--;){var d=this.element.childNodes[c];d._nodeDat?a?d._nodeDat.remove():d._nodeDat.destroy():b(d)}return this},text:function(a,b){b?this.element.innerHTML=a:this.element.append(Page.text(a))},getText:function(){return this.element.innerHTML},
trim:function(){return this.element.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},getAppliedStyle:function(){return window.getComputedStyle(this.element,null)},getWidth:function(){var a=window.getComputedStyle(this.element,null).width;return parseInt(a.slice(0,a.length-2))},getHeight:function(){var a=window.getComputedStyle(this.element,null).height;return parseInt(a.slice(0,a.length-2))},attribute:function(a,b){return null!=b?this.element.setAttribute(a,b):this.element.getAttribute(a)},rmAttribute:function(a){this.element.removeAttribute(a)},
inDocument:function(){for(var a=this.element;a=a.parentNode;)if(a===document)return!0;return!1},build:function(a,b){var c=Page.build.apply(Page,arguments);this.element.appendChild(c.element);return c},node:function(a,b){return this.build.apply(this,arguments)},addNObserver:function(a,b,c,d){this.bindedEvents[b]||(d=this.bindedEvents[b]={eventName:a,function:this.fireEvent.bind(this,a,d)},this.element.addEventListener(a,d.function,!1));this.addObserver(a,b,c)},removeNObserver:function(a,b,c){this.removeObserver(a,
b,c);this.getNumObservers(a)||(this.element.removeEventListener(a,this.bindedEvents[b].function,!1),delete this.bindedEvents[b])},removeNObservers:function(a){this.removeObservers(a);for(var b in this.bindedEvents)this.bindedEvents[b].eventName==a&&this.element.removeEventListener(a,this.bindedEvents[b].function,!1);delete this.bindedEvents},clearNObservers:function(){for(var a in this.bindedEvents){var b=this.bindedEvents[a];this.removeObservers(b.eventName);this.element.removeEventListener(b.eventName,
b.function)}},fireEvent:function(a,b,c){this.fireObservers(a,c,b)}});node=function(a,b){return Page.build.apply(Page,arguments)};text=function(a){return Page.text.apply(Page,arguments)};P=function(a,b){return Page.find.apply(a,arguments)};empty=function(){return Page.empty.apply(Page,arguments)}});namespace("AVObj.Utilities",function(){this.CheckMedia=AVObj.extend({generateSingleton:!0}).prop({head:null,events:{value:{ON_TRUE:"onTrue",ON_FALSE:"onFalse",ON_CHANGE:"onChange"},writable:!1,configurable:!1},init:function(){this.queryList=[];window.addEventListener("resize",this.checkQueryStates.bind(this))},registerQuery:function(a){var b="_CheckMediaN"+this.queryList.length;a=P("head")[0].build("style",{id:b,media:a,text:"#"+b+"{left:1px}"});this.queryList.push(a);return a},removeQuery:function(a){a=
this.queryList.indexOf(a);this.queryList.splice(a,1)},checkQueryStates:function(){this.queryList.forEach(function(a){"1px"==a.getAppliedStyle().left?a.wasTrue||(a.fireObservers(CheckMedia.events.ON_TRUE),a.fireObservers(CheckMedia.events.ON_CHANGE,!0),a.wasTrue=!0):a.wasTrue&&(a.fireObservers(CheckMedia.events.ON_FALSE),a.fireObservers(CheckMedia.events.ON_CHANGE,!1),a.wasTrue=!1)})}})});XMLHttpRequest.prototype.addListener=function(a,b,c,d){this["__"+b+"_bindValue"]=d?c?c[b].bind(c,d):c[b]:c?c[b].bind(c):c[b];this.addEventListener(a,this["__"+b+"_bindValue"],!1)};XMLHttpRequest.prototype.removeListener=function(a,b){this.removeEventListener(a,this["__"+b+"_bindValue"],!1);delete this["__"+b+"_bindValue"]};
namespace("AVObj.Utilities",function(){this.Request=AVObj.extend().prop({init:function(a,b,c,d,e){this.request=new XMLHttpRequest;this.method=a;this.url=b;this.asynchronous=c;this.finishFunction=d;this.data=e;null==this.request?console.error("Browser does not support XMLHTTPRequest."):"string"===typeof b?(this.request.addListener("error","transferError",this),"POST"===a?this.sendPostRequest():"GET"===a?this.sendGetRequest():console.error('no method defined. Please set to "POST" or "GET".')):console.error("URL is not defined or is not a string.")},
deInit:function(){delete this.request;delete this.method;delete this.url;delete this.asynchronous;delete this.finishFunction;delete this.data},transferError:function(){console.error("An error has occurred while transferring the data.")},sendGetRequest:function(){this.request.open(this.method,this.url+"?"+this.convertToString(),this.asynchronous);this.asynchronous?(this.request.addListener("load","fireFunction",this),this.request.send(null)):(this.request.send(null),this.finishFunction({responseText:this.request.responseText}))},
sendPostRequest:function(){this.request.open(this.method,this.url,this.asynchronous);this.asynchronous?(this.request.addListener("load","fireFunction",this),this.request.send(this.convertToForm())):(this.request.send(this.convertToForm()),this.finishFunction({responseText:this.request.responseText}),this.destroy())},fireFunction:function(a){this.request.removeListener("error","transferError");this.request.removeListener("load","fireFunction");this.finishFunction(a.currentTarget);this.destroy()},kill:function(){this.request.removeListener("error",
"transferError");this.request.removeListener("load","fireFunction");this.request.abort()},convertToString:function(){var a="";if("object"==typeof this.data){var b=!1,c;for(c in this.data)b?a+="&"+c+"="+encodeURIComponent(this.data[c]):(b=!0,a+=c+"="+encodeURIComponent(this.data[c]))}else"string"==typeof this.data&&(a=this.data);return a},convertToForm:function(){var a;if("object"==typeof this.data&&"undefined"!=typeof FormData)if(!1===this.data instanceof FormData){a=new FormData;for(var b in this.data)a.append(b,
this.data[b])}else a=this.data;else a=this.convertToString();"string"==typeof a&&this.request.setRequestHeader("Content-type","application/x-www-form-urlencoded");return a}})});namespace("AVObj.Utilities",function(){AVObj.extend().prop={play:function(a,b,c){},pause:function(){}}});
