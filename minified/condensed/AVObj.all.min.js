Function.prototype.bind||(Function.prototype.bind=function(b){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var a=Array.prototype.slice.call(arguments,1),d=this,e=function(){},c=function(){return d.apply(this instanceof e?this:b||window,a.concat(Array.prototype.slice.call(arguments)))};e.prototype=this.prototype;c.prototype=new e;return c});
function namespace(b,a){var d=window;switch(typeof b){case "object":d=b;break;case "string":b=b.split(".");for(var e=0,c=b.length;e<c;e++)b[e]in d||(d[b[e]]={}),d=d[b[e]]}null!=a&&(e=/^function\s*\([\s\w\d$,]*\s*\)\s*\{([\S\s]*)}$/g.exec(a.toString()),Function(["$scope"],e[1]).apply(this,[d]));return d}
function using(b){var a=[],d=[],e=[],c={},g,f=arguments.length;for(g=0;g<f;g++){switch(typeof arguments[g]){case "object":k=arguments[g];break;case "string":for(var h=arguments[g].split("."),k=window[h[0]],l=1,m=h.length;l<m;l++)k=k[h[l]]}for(var n in k)if("object"===typeof k[n]||"function"===typeof k[n])e.push(k),a.push(n),d.push(k[n])}c.on=function(c){if(0<f){var b=/^function\s*\([\s\w\d$,]*\s*\)\s*\{([\S\s]*)}$/g.exec(c.toString())[1]+" return ["+a.toString()+"];",b=Function(a,b).apply(this,d);
for(g=b.length;g--;)e[g][a[g]]=b[g]}else arguments[f].apply(this);return this};c.within=function(c,b){var g=window;switch(typeof c){case "object":g=c;break;case "string":c=c.split(".");for(var f=0,h=c.length;f<h;f++)c[f]in g||(g[c[f]]={}),g=g[c[f]]}if(null!=b)for(a.push("$scope"),d.push(g),f=/^function\s*\([\s\w\d$,]*\s*\)\s*\{([\S\s]*)}$/g.exec(b.toString())[1]+" return ["+a.toString()+"];",g=Function(a,f).apply(this,d),f=g.length-1;f--;)e[f][a[f]]=g[f];return this};return c}
function usingNamespace(b){var a=[],d=[],e=[],c,g=arguments.length-1;for(c=0;c<g;c++){switch(typeof arguments[c]){case "object":h=arguments[c];break;case "string":for(var f=arguments[c].split("."),h=window[f[0]],k=1,l=f.length;k<l;k++)h=h[f[k]]}for(var m in h)if("object"===typeof h[m]||"function"===typeof h[m])e.push(h),a.push(m),d.push(h[m])}if(0<g)for(c=/^function\s*\([\s\w\d,]*\s*\)\s*\{([\S\s]*)}$/g.exec(arguments[g].toString())[1]+" return ["+a.toString()+"];",d=Function(a,c).apply(this,d),c=
d.length;c--;)e[c][a[c]]=d[c];else arguments[g].apply(this)}var AVObj=null,AV={Utilities:{},App:{Display:{}}},AVObjMacro=function(b,a){};
(function(){function b(c){var a=!1;return Object.create(c,{_extensionCount:{value:c._extensionCount,writable:!1,configurable:!1,enumerable:!1},_methodTrack:{value:0,writable:!0,configurable:!1,enumerable:!1},callParent:{value:function(c,a,b){this._methodTrack+=null!=a?a:0;c=this["_parent"+(this._extensionCount-this._methodTrack++)][c].apply(this,b);this._methodTrack=0;return c},writable:!1,configurable:!1,enumerable:!1},_superTrack:{value:0,writable:!0,configurable:!1,enumerable:!1},super:{value:function(){var c=
this["_parent"+(this._extensionCount-this._superTrack++)].init.apply(this,arguments);this._superTrack=0;return c}},parent:{get:function(){console.error("Cannot get from keyword 'this.parent'. Please avoid any parent calls that could be scoped to other objects!");return null},enumerable:!1,configurable:!1},_observers:{value:{},writable:!0,configurable:!1,enumerable:!1},create:{value:function(){console.error("You can't call create on an object that has already been built!");return null},writable:!1,
configurable:!1,enumerable:!1},destroyed:{value:function(){return a},writable:!0,configurable:!1,enumerable:!1},destroy:{value:function(){a||(this.clearObservers(),this.deInit(),a=!0,Object.seal(this))},writable:!1,configurable:!1}})}var a={},d={value:{},writable:!0,configurable:!1,enumerable:!1},e={value:function(){var c=b(this);c.preInit.apply(c);for(var d=0,f=c._macroInit.length;d<f;d++){var e=c._macroInit[d];a[e].init.call(c,c._usedMacros[e],arguments)}c.init.apply(c,arguments);return c},writable:!1,
configurable:!1};AVObjMacro=function(c,b,d,e){null==a[c]?a[c]={before:b,after:d,init:e}:console.error(c+" Macro is already defined!")};AVObjMacro("initOnPageLoad",function(c,a){},function(c,a){AVObj._AVLoadList.push(c)});AVObjMacro("preventExtension",function(c){c._lockExtensions={value:!0,writable:!1,configurable:!1,enumerable:!1}});AVObjMacro("generateSingleton",function(c,a){c.create={value:function(){console.error("Please use singleton constructor 'instance' instead.");return null},writable:!1,
configurable:!1};c._instance={value:null,writable:!0,configurable:!1};c.instance={get:function(){null==this._instance&&(this._instance=b(this),this.init.apply(this._instance,arguments));return this._instance}}});AVObjMacro("initStaticObject",function(c){c.create={value:function(){console.error("Cannot create a static object!");return null},writable:!1,configurable:!1};c.destroy={value:function(){console.error("Cannot destroy a static object!")},writable:!1,configurable:!1}});AVObj={preInit:function(){},
init:function(){},deInit:function(){},extend:function(c,b){var f,h={parent:{get:function(){return Object.getPrototypeOf(this)},enumerable:!1,configurable:!1},_macroInit:{value:[]},_usedMacros:{value:c,writable:!1,configurable:!1,enumerable:!1},_observers:d,_extensionCount:{value:this._extensionCount+1,writable:!1,configurable:!1,enumerable:!1},create:e};if(c)for(f in a)null!=c[f]&&null!=a[f].before&&a[f].before(h,c[f]);for(var k={},l=2;l<arguments.length;l++)for(var m in arguments[l]){var n=arguments[l][m];
if(!k[n]){var p="",q;for(q in n)p+=q+" {"+n[q]+"} ";k[m]=function(){console.error("Method - "+m+" undefined in interface, with required arguments: "+p)}}}h._interfaces={value:k};h=Object.create(this,h);if(c)for(f in a)null!=c[f]&&(null!=a[f].after&&a[f].after(h,c[f]),null!=a[f].init&&h._macroInit.push(f));Object.defineProperty(h,"_parent"+h._extensionCount,{value:this,writable:!1,configurable:!1,enumerable:!1});return h},set properties(c){"object"==typeof c.advanced&&Object.defineProperties(this,
c.advanced);for(var a in c)"object"==typeof c[a]&&null!=c[a]?"function"==typeof c[a].get||"function"==typeof c[a].set||c[a].value?Object.defineProperty(this,a,c[a]):this[a]=c[a]:this[a]=c[a];for(var b in this._interfaces)if(null==this[b])this._interfaces[b]();this._lockExtensions&&Object.preventExtensions(this)},prop:function(a){this.properties=a;return this},addObserver:function(a,b){var d=this._observers[a];d||(d=[]);-1==d.indexOf(b)&&d.push(b)},removeObserver:function(a,b){var d=this._observers[a].indexOf(b);
-1<d&&this._observers[a].splice(d,1)},clearEvent:function(a){delete this._observers[a]},clearEvents:function(){this._observers={}},fireObservers:function(a,b,d){if(a=this._observers[a])for(var e=a.length;e--;){var k;(k=a[b])&&k.apply(k,d)}}};Object.defineProperties(AVObj,{_observers:{value:{},writable:!0,configurable:!1,enumerable:!1},_extensionCount:{value:0,writable:!1,configurable:!1,enumerable:!1},_AVLoadList:{value:[],writable:!1,configurable:!1,enumerable:!1},parent:{value:AVObj},create:e});
window.addEventListener("load",function(){AVObj._AVLoadList.forEach(function(a){null==a._instance?(a._instance=a.createFinal(),a._instance.init()):console.warn("Object "+a+" has already been created.")})})})();using().within(AV.Utilities,function(b){AVObjMacro("configComponent",function(a,b){a._componentName={value:b}},function(a,d){b.Node._componentList[d]=a});b.Node=AVObj.extend().prop({_componentList:{},preInit:function(){this._element=null;this._components=[];this._componentsMap={}},init:function(a,b,e){this._element="object"==typeof a?a:document.createElement(a);this._element._avNode=this;b||(b=[]);for(a=0;a<b.length;a++)(e=b[a])&&e._componentName&&this._componentList[e._componentName]?this.setComponent(e):
console.error("Component ",e," does not exist or is not registered with the Node class. Make sure the MACRO configComponent is defined in the component.")},push:function(a){this._element.appendChild(a._element)},remove:function(a){this._element.removeChild(a._element)},children:{get:function(){for(var a=this._element.childNodes,b=[],e=0,c=a.length;e<c;e++)b.push(a[e]);return b}},clear:function(){for(var a=this._element.childNodes,b=a.length;b--;)a[b].pop()},getComponent:function(a){var b=this._componentsMap[a];
return b&&0<b.length?this._componentsMap[a][0]:null},getComponents:function(a){return this._componentsMap[a]},setComponent:function(a){this._components.push(a);this._componentsMap[a._componentName]||(this._componentsMap[a._componentName]=[]);this._componentsMap[a._componentName].push(a)},createComponent:function(a,b){var e=this._componentList[a];e&&this._components.push(e.create.apply(e,b))}});b.ComponentTest=AVObj.extend().prop({init:function(){}});b.Component=AVObj.extend({configComponent:"BaseComponent"}).prop({preInit:function(){this.storeValue=
0},init:function(a){this.storeValue=a;console.log("Base Component Init "+a)},start:function(a){},grabValue:function(){return this.storeValue}});b.Node.create("div",[b.Component.create("500"),b.Component.create("9000")])});namespace("AV.Utilities",function(){this.CheckMedia=AVObj.extend({generateSingleton:!0}).prop({head:null,events:{value:{ON_TRUE:"onTrue",ON_FALSE:"onFalse",ON_CHANGE:"onChange"},writable:!1,configurable:!1},init:function(){this.queryList=[];window.addEventListener("resize",this.checkQueryStates.bind(this))},registerQuery:function(b){var a="_CheckMediaN"+this.queryList.length;b=P("head")[0].build("style",{id:a,media:b,text:"#"+a+"{left:1px}"});this.queryList.push(b);return b},removeQuery:function(b){b=
this.queryList.indexOf(b);this.queryList.splice(b,1)},checkQueryStates:function(){this.queryList.forEach(function(b){"1px"==b.getAppliedStyle().left?b.wasTrue||(b.fireObservers(CheckMedia.events.ON_TRUE),b.fireObservers(CheckMedia.events.ON_CHANGE,!0),b.wasTrue=!0):b.wasTrue&&(b.fireObservers(CheckMedia.events.ON_FALSE),b.fireObservers(CheckMedia.events.ON_CHANGE,!1),b.wasTrue=!1)})}})});XMLHttpRequest.prototype.addListener=function(b,a,d,e){this["__"+a+"_bindValue"]=e?d?d[a].bind(d,e):d[a]:d?d[a].bind(d):d[a];this.addEventListener(b,this["__"+a+"_bindValue"],!1)};XMLHttpRequest.prototype.removeListener=function(b,a){this.removeEventListener(b,this["__"+a+"_bindValue"],!1);delete this["__"+a+"_bindValue"]};
namespace("AV.Utilities",function(){this.Request=AVObj.extend().prop({init:function(b,a,d,e,c){this.request=new XMLHttpRequest;this.method=b;this.url=a;this.asynchronous=d;this.finishFunction=e;this.data=c;null==this.request?console.error("Browser does not support XMLHTTPRequest."):"string"===typeof a?(this.request.addListener("error","transferError",this),"POST"===b?this.sendPostRequest():"GET"===b?this.sendGetRequest():console.error('no method defined. Please set to "POST" or "GET".')):console.error("URL is not defined or is not a string.")},
deInit:function(){delete this.request;delete this.method;delete this.url;delete this.asynchronous;delete this.finishFunction;delete this.data},transferError:function(){console.error("An error has occurred while transferring the data.")},sendGetRequest:function(){this.request.open(this.method,this.url+"?"+this.convertToString(),this.asynchronous);this.asynchronous?(this.request.addListener("load","fireFunction",this),this.request.send(null)):(this.request.send(null),this.finishFunction({responseText:this.request.responseText}))},
sendPostRequest:function(){this.request.open(this.method,this.url,this.asynchronous);this.asynchronous?(this.request.addListener("load","fireFunction",this),this.request.send(this.convertToForm())):(this.request.send(this.convertToForm()),this.finishFunction({responseText:this.request.responseText}),this.destroy())},fireFunction:function(b){this.request.removeListener("error","transferError");this.request.removeListener("load","fireFunction");this.finishFunction(b.currentTarget);this.destroy()},kill:function(){this.request.removeListener("error",
"transferError");this.request.removeListener("load","fireFunction");this.request.abort()},convertToString:function(){var b="";if("object"==typeof this.data){var a=!1,d;for(d in this.data)a?b+="&"+d+"="+encodeURIComponent(this.data[d]):(a=!0,b+=d+"="+encodeURIComponent(this.data[d]))}else"string"==typeof this.data&&(b=this.data);return b},convertToForm:function(){var b;if("object"==typeof this.data&&"undefined"!=typeof FormData)if(!1===this.data instanceof FormData){b=new FormData;for(var a in this.data)b.append(a,
this.data[a])}else b=this.data;else b=this.convertToString();"string"==typeof b&&this.request.setRequestHeader("Content-type","application/x-www-form-urlencoded");return b}})});namespace("AV.Utilities",function(){AVObj.extend().prop={play:function(b,a,d){},pause:function(){}}});
