var Page=AVObj.extend({initStaticObject:!0,preventExtensions:!0});
Page.properties={find:function(a,b){b=null==b?document:b;var c;if(null!=a&&0<a.length)switch(a.charAt(0)){case ".":c=b.getElementsByClassName(a.slice(1,a.length));break;case "#":c=b.getElementById(a.slice(1,a.length));break;default:null!=a&&0<a.length&&(c=b.getElementsByTagName(a))}else c=b.childNodes;if(c){if(c.length){for(var d=[],e=0;e<c.length;e++)d.push(c[e]._nodeDat?c[e]._nodeDat:Node.create(c[e]));return d}return c._nodeDat?c._nodeDat:Node.create(c)}console.error("Node/nodes do not exist by that name!")},
build:function(a,b){var c=document.createElement(a),d;for(d in b)switch(d){case "text":c.appendChild(Page.text(b[d]));break;case "htmlText":c.innerHTML=b[d];break;default:c.setAttribute(d,b[d])}return Node.create(c)},empty:function(){for(var a=arguments.length;a--;)if(!arguments[a]||0===arguments[a].length)return!0;return!1},text:function(a){return document.createTextNode(a)}};var Node=AVObj.extend({preventExtensions:!1});
Node.properties={events:{CLICK:"click",MOUSE_DOWN:"mousedown",MOUSE_UP:"mouseup",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_OVER:"mouseover",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",DBL_CLICK:"dblclick"},init:function(a){this.bindedEvents={};this.element=a;this.element._nodeDat=this},deInit:function(){this.clearNodes();this.remove();this.clearNObservers();delete this.element._nodeDat;delete this.element;delete this.bindedEvents},add:function(){for(var a=0;a<arguments.length;a++)Node.isPrototypeOf(arguments[a])?
this.element.appendChild(arguments[a].element):arguments[a]instanceof Text?this.element.appendChild(arguments[a]):console.log("Object argument "+(a+1)+" is not instance of Node!");return this},replace:function(){this.clearNodes();this.add.apply(this,arguments)},remove:function(){this.element.parentNode&&this.element.parentNode.removeChild(this.element)},find:function(a){return Page.find(a,this.element)},children:{get:function(){return this.find()}},clearNodes:function(a){for(var b=function(c){for(var d=
c.childNodes.length;d--;){var f=c.childNodes[d];f._nodeDat?a?f._nodeDat.remove():f._nodeDat.destroy():(b(f),c.removeChild(f))}},c=this.element.childNodes.length;c--;){var d=this.element.childNodes[c];d._nodeDat?a?d._nodeDat.remove():d._nodeDat.destroy():b(d)}return this},text:function(a,b){b?this.element.innerHTML=strign:this.element.append(Page.text(a))},trim:function(){return this.element.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},getAppliedStyle:function(){return window.getComputedStyle(this.element,
null)},getWidth:function(){var a=window.getComputedStyle(this.element,null).width;return parseInt(a.slice(0,a.length-2))},getHeight:function(){var a=window.getComputedStyle(this.element,null).height;return parseInt(a.slice(0,a.length-2))},attribute:function(a,b){return null!=b?this.element.setAttribute(a,b):this.element.getAttribute(a)},rmAttribute:function(a){this.element.removeAttribute(a)},inDocument:function(){for(var a=this.element;a=a.parentNode;)if(a===document)return!0;return!1},build:function(a,
b){var c=Page.build.apply(Page,arguments);this.element.appendChild(c.element);return c},node:function(a,b){return this.build.apply(this,arguments)},P:function(a){return this.find(a)},addNObserver:function(a,b,c,d){this.bindedEvents[b]||(d=this.bindedEvents[b]={eventName:a,function:this.fireEvent.bind(this,a,d)},this.element.addEventListener(a,d.function,!1));this.addObserver(a,b,c)},removeNObserver:function(a,b,c){this.removeObserver(a,b,c);this.getNumObservers(a)||(this.element.removeEventListener(a,
this.bindedEvents[b].function,!1),delete this.bindedEvents[b])},removeNObservers:function(a){this.removeObservers(a);for(var b in this.bindedEvents)this.bindedEvents[b].eventName==a&&this.element.removeEventListener(a,this.bindedEvents[b].function,!1);delete this.bindedEvents},clearNObservers:function(){for(var a in this.bindedEvents){var b=this.bindedEvents[a];this.removeObservers(b.eventName);this.element.removeEventListener(b.eventName,b.function)}},fireEvent:function(a,b,c){this.fireObservers(a,
c,b)}};function node(){return Page.build.apply(Page,arguments)}function text(){return Page.text.apply(Page,arguments)}function P(a){return Page.find(a)}function empty(){return Page.empty.apply(Page,arguments)};
