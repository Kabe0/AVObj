using().within(AV.Utilities,function(d){AVObjMacro("configComponent",function(a,b){a._componentName={value:b}},function(a,b){d.Node._componentList[b]=a});d.Node=AVObj.extend().prop({_componentList:{},preInit:function(){this._components=[];this._componentsMap={}},init:function(a,b,c){b||(b=[]);for(a=0;a<b.length;a++)(c=b[a])&&c._componentName&&this._componentList[c._componentName]?this.setComponent(c):console.error("Component ",c," does not exist or is not registered with the Node class. Make sure the MACRO configComponent is defined in the component.")},
getComponent:function(a){var b=this._componentsMap[a];return b&&0<b.length?this._componentsMap[a][0]:null},getComponents:function(a){return this._componentsMap[a]},setComponent:function(a){this._components.push(a);this._componentsMap[a._componentName]||(this._componentsMap[a._componentName]=[]);this._componentsMap[a._componentName].push(a)},createComponent:function(a,b){var c=this._componentList[a];c&&this._components.push(c.create.apply(c,b))}});d.ComponentTest=AVObj.extend().prop({init:function(){}});
d.Component=AVObj.extend({configComponent:"BaseComponent"}).prop({preInit:function(){this.storeValue=0},init:function(a){this.storeValue=a;console.log("Base Component Init")},start:function(a){},grabValue:function(){return this.storeValue}});d.Node.create("div",[d.Component.create("500"),d.Component.create("9000")])});
