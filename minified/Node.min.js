using().within(AV.Utilities,function(d){AVObjMacro("configComponent",function(a,b){a._componentName={value:b}},function(a,b){d.Node._componentList[b]=a});d.Node=AVObj.extend().prop({_componentList:{},preInit:function(){this._element=null;this._components=[];this._componentsMap={}},init:function(a,b,c){this._element="object"==typeof a?a:document.createElement(a);this._element._avNode=this;b||(b=[]);b.push(d.Attributes.create());for(a=0;a<b.length;a++)(c=b[a])&&c._componentName&&this._componentList[c._componentName]?
this.setComponent(c):console.error("Component ",c," does not exist or is not registered with the Node class. Make sure the MACRO configComponent is defined in the component.")},element:{get:function(){return this._element}},push:function(a){this._element.appendChild(a._element)},remove:function(a){this._element.removeChild(a._element)},removeSelf:function(){this._element.parentElement.removeChild(this._element)},children:{get:function(){for(var a=[],b=0,c=this._element.childNodes.length;b<c;b++)a[b]._avNode?
a.push(a[b]._avNode):a.push(d.Node.create(a[b]));return a}},clear:function(){var a=this._element.childNodes;this._element.innerHTML="";for(var b=a.length;b--;)this._element.removeChild(a[b])},getComponent:function(a){var b=this._componentsMap[a];return b&&0<b.length?this._componentsMap[a][0]:null},getComponents:function(a){return this._componentsMap[a]},setComponent:function(a){this._components.push(a);this._componentsMap[a._componentName]||(this._componentsMap[a._componentName]=[]);this._componentsMap[a._componentName].push(a);
a.setParent(this);a.start(this)},createComponent:function(a,b){var c=this._componentList[a];c&&(c=c.create.apply(c,b),this._components.push(c),c.setParent(this),c.start(this))}});d.Component=AVObj.extend({configComponent:"BaseComponent"}).prop({preInit:function(){this.node=null},setParent:function(a){this.node=a},start:function(){}});d.Attributes=d.Component.extend({configComponent:"Attributes"}).prop({preInit:function(){},start:function(){},attribute:function(a,b){return b?this.node.element.setAttribute(a,
b):this.node.element.getAttribute(a)},removeAttribute:function(a){}})});
