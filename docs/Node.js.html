<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: utils/Node.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: utils/Node.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/*
 * Copyright (c) 2014 Ian Carson - LinkedIn http://lnkd.in/9qJWap
 *
 * Project : AVObj - Making JS Simple.
 * Version : 0.6.1
 * License : MIT (http://www.opensource.org/licenses/mit-license.php)
 *
 * For the latest updates go to http://AVObject.net
 * Visit the wiki for howto information on getting started at https://github.com/Kabe0/AVObj/wiki
 */

/**
 * Created by Ian on 2014-12-19.
 */

using().within( AV.Utilities, function( $scope )
{
	AVObjMacro( "configComponent",
		function ( properties, name ) {
			properties._componentName =
			{
				value : name
			}
		},
		function( object, name )
		{
			$scope.Node._componentList[name] = object;
		}
	);

	$scope.Node = AVObj.extend().prop(
		{
			_componentList : {},

			preInit : function()
			{
				this._element = null;
				this._components = [];
				this._componentsMap = {};
			},

			/**
			 * @param {string|element} name Pass in either a string value or element if you want to wrap the node around it.
			 * @param {AV.Utilities.Component[]} components
			 * @param {object} nodeAttributes
			 * @constructor AV.App.Utilities.Node
			 */
			init : function( name, components, nodeAttributes )
			{
				this._element = ( typeof name == "object" ? name : document.createElement( name ) );
				this._element._avNode = this;

				if ( !components ) components = [];

				// Loop through all the components defined and if array object, create, and if object add to the _components array.
				for( var i = 0; i &lt; components.length; i++ )
				{
					var component = components[i];

					// We have to make sure that the component exists with a component name, and that the name has been registered with the Node object.
					// If the value is not registered than the component cannot be created.
					if ( component &amp;&amp; component._componentName &amp;&amp; this._componentList[component._componentName] )
					{
						this.setComponent( component );
					}
					else
					{
						console.error( "Component ", component, " does not exist or is not registered with the Node class. Make sure the MACRO configComponent is defined in the component." );
					}
				}
			},

			//region Child Modifications

			push : function( node )
			{
				this._element.appendChild( node._element );
			},

			remove : function( node )
			{
				this._element.removeChild( node._element );
			},

			children :
			{
				get : function()
				{
					var children = this._element.childNodes;
					var childNodes = [];

					for( var i = 0, length = children.length; i &lt; length; i++ )
					{
						childNodes.push( children[i] );
					}

					return childNodes;
				}
			},

			clear : function()
			{
				var children = this._element.childNodes;
				for( var i = children.length; i--; )
				{
					children[i].pop();
				}
			},

			//endregion

			//region Component Modifications

			getComponent : function( componentName )
			{
				var component = this._componentsMap[ componentName];
				return ( component &amp;&amp; component.length > 0 ? this._componentsMap[ componentName ][0] : null );
			},

			getComponents : function( componentName )
			{
				return this._componentsMap[ componentName ];
			},

			setComponent : function( component )
			{
				this._components.push( component );

				// Checking of the componentsMap already has the name registered for the Node, if not the array is created.
				if ( !this._componentsMap[ component._componentName ] ) this._componentsMap[ component._componentName ] = [];

				this._componentsMap[ component._componentName].push( component );
			},

			createComponent : function( componentName, properties )
			{
				var object = this._componentList[componentName];	// Stored so that the scope can be referenced later.
				if ( object )										// We don't want to bother creating the object if it is not registered.
				{
					this._components.push( object.create.apply( object, properties ) );
				}
			}

			//endregion
		}
	);

	var Node = $scope.Node;

	var ComponentTest = $scope.ComponentTest = AVObj.extend(  ).prop(
		{
			init : function()
			{

			}
		});

	var Component = $scope.Component = AVObj.extend( { configComponent : "BaseComponent" } ).prop(
		{
			preInit : function()
			{
				this.storeValue = 0;
			},
			/**
			 *
			 * @param value
			 * @param parentNode the object that this component belongs to.
			 * @constructor AV.App.Utilities.Component
			 */
			init : function( value )
			{
				this.storeValue = value;
				console.log("Base Component Init " + value );
			},

			start : function( parentNode )
			{

			},

			grabValue : function()
			{
				return this.storeValue;
			}
		}
	);

	var node = $scope.Node.create( "div", [ $scope.Component.create("500"), $scope.Component.create("9000") ] );

});</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="AV.App.Display.Template.html">Template</a></li><li><a href="AV.App.Utilities.Assembler.html">Assembler</a></li><li><a href="AV.App.Utilities.Component.html">Component</a></li><li><a href="AV.App.Utilities.Node.html">Node</a></li><li><a href="AV.Utilities.Node.html">Node</a></li><li><a href="AV.Utilities.Page.html">Page</a></li><li><a href="AV.Utilities.Request.html">Request</a></li><li><a href="AVObj.html">AVObj</a></li><li><a href="CodeDecorator.CodeDecorator.html">CodeDecorator</a></li></ul><h3>Namespaces</h3><ul><li><a href="AV.html">AV</a></li><li><a href="AV.App.html">App</a></li><li><a href="AV.Utilities.html">Utilities</a></li></ul><h3>Global</h3><ul><li><a href="global.html#AVObjMacro">AVObjMacro</a></li><li><a href="global.html#buildLayer">buildLayer</a></li><li><a href="global.html#buildTemplate">buildTemplate</a></li><li><a href="global.html#checkQueryStates">checkQueryStates</a></li><li><a href="global.html#convertToForm">convertToForm</a></li><li><a href="global.html#convertToString">convertToString</a></li><li><a href="global.html#enable">enable</a></li><li><a href="global.html#fireFunction">fireFunction</a></li><li><a href="global.html#getLayerInstruct">getLayerInstruct</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#Interpreter">Interpreter</a></li><li><a href="global.html#kill">kill</a></li><li><a href="global.html#LayerTransitionBase">LayerTransitionBase</a></li><li><a href="global.html#namespace">namespace</a></li><li><a href="global.html#pushLayer">pushLayer</a></li><li><a href="global.html#Template">Template</a></li><li><a href="global.html#usingNamespace">usingNamespace</a></li><li><a href="global.html#View">View</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha9</a> on Fri Jan 09 2015 01:19:24 GMT-0500 (Eastern Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
