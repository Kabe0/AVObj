<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: AVApp/Display/Interpreter.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: AVApp/Display/Interpreter.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/*
 * Copyright (c) 2014 Ian Carson - LinkedIn http://lnkd.in/9qJWap
 *
 * Project : AVObj - Making JS Simple.
 * Version : 0.6.1
 * License : MIT (http://www.opensource.org/licenses/mit-license.php)
 *
 * For the latest updates go to http://AVObject.net
 * Visit the wiki for howto information on getting started at https://github.com/Kabe0/AVObj/wiki
 */

/**
 * Created by Ian on 2014-10-28.
 */

namespace( "AVApp.Display", function()
{
	var LanguageObject =
	{
		builder :[
			{
				reg:  /&lt;(?!\\)([\w]*)([\S\s]*)\/?\>$/,
				exec: function ( checkValue )
				{
					//var results;
					//if ( results = checkValue.match( /^&lt;([\w]*)([\S\s]*)\/?\>$/ ) )
					//{
					//	var buildObject = results[1];
						//var properties = results[2];

						console.log( checkValue );

					//	AV.Utilities.node( buildObject )
					//}

					// Returning true eats the value, returning false will allow the next function to test.
					return true;
				}
			}
		],
		stringParser : /(&lt;[a-zA-Z\d ="-\/]*>|[\w]+)/gm
	};

	/**
	 * The Interpreter handles converting any string text into dynamic node
	 * data that can be used by a Layer then rendered into the view.
	 */
	this.Interpreter = AVObj.extend().prop(
		{
			/**
			 *
			 * @param {String} instructions
			 */
			init : function( instructions, language )
			{
				var node1 = AV.Utilities.node("div");
				var node2 = AV.Utilities.node("div");

/*
				console.time("innerHTML test");

				node1.innerHTML = instructions;*
				console.timeEnd("innerHTML test");

				console.time("test1" );

				var resultArray = instructions.match( LanguageObject.regParser );
				console.timeEnd("test1");

				console.time("test2" );
				var results;

				while( results = LanguageObject.regParser.exec(instructions) )
				{
					var result = results[1];

					//resultArray.push(result);
				}

				console.timeEnd("test2");

//				console.log(resultArray, res);
*/
				this.grabCheese1( instructions );
				this.grabCheese2( instructions );
				this.grabCheese3( instructions );
			},

			/**
			 * Handles the construction of the Interpreter code.
			 * @param controllers
			 * @param model
			 * @return AV.Utilities.Node
			 */
			buildTemplate : function( controllers, model )
			{

			},

			/**
			 * Returns the processed information so that the layer can render it.
			 * (called by the base Layer class).
			 */
			getLayerInstruct : function()
			{

			},

			grabCheese1 : function( string )
			{
				console.time("cheese 1" );

				var stringCheck = "hellp";


				var stringPointer = 0;
				var pointer = 0;

				while( pointer != string.length )
				{
					// We AUTO increment this every time it's called as the string must move forward.
					// A letter matches, move forward
					if ( stringCheck[stringPointer] == string[pointer] )
					{
						stringPointer++;
						if ( stringCheck.length - 1 == stringPointer )
						{
							//console.log("success ", stringPointer, pointer );
							break;
						}
					}
					// No match reset the array
					else
					{
						stringPointer = 0;
					}
					pointer++
				}

				console.timeEnd("cheese 1");
			},

			grabCheese2 : function( string )
			{
				console.time("cheese 2" );

				var results;
				var length = LanguageObject.builder.length;

				while( results = LanguageObject.stringParser.exec(string) )
				{
					for( var i = length; i--; )
					{
						var buildResult;
						if ( buildResult = results[1].match( LanguageObject.builder[i].reg ) )
						{
							LanguageObject.builder[i].exec( buildResult );
							break;
						}
						// fire with the result that we got from the string.
						//LanguageObject.builder[i]( results[1] );
					}
					//resultArray.push(result);
				}

				console.timeEnd("cheese 2");
			},

			grabCheese3 : function( string )
			{
				console.time("cheese 3" );
				var resultArray = string.match( LanguageObject.regParser );

				for( var i = 0, length = resultArray.length; i &lt; length; i++ )
				{
					if ( resultArray[i] == "hellp" )
					{
						//console.log("success");
						break;
					}
				}

				console.timeEnd("cheese 3");
			}
		}
	)
});</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="AV.Utilities.Node.html">Node</a></li><li><a href="AV.Utilities.Page.html">Page</a></li><li><a href="AV.Utilities.Request.html">Request</a></li><li><a href="AVObj.html">AVObj</a></li><li><a href="CodeDecorator.CodeDecorator.html">CodeDecorator</a></li></ul><h3>Namespaces</h3><ul><li><a href="AV.html">AV</a></li><li><a href="AV.AVApp.html">AVApp</a></li><li><a href="AV.Utilities.html">Utilities</a></li></ul><h3>Global</h3><ul><li><a href="global.html#AVObjMacro">AVObjMacro</a></li><li><a href="global.html#buildTemplate">buildTemplate</a></li><li><a href="global.html#checkQueryStates">checkQueryStates</a></li><li><a href="global.html#convertToForm">convertToForm</a></li><li><a href="global.html#convertToString">convertToString</a></li><li><a href="global.html#fireFunction">fireFunction</a></li><li><a href="global.html#getLayerInstruct">getLayerInstruct</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#Interpreter">Interpreter</a></li><li><a href="global.html#kill">kill</a></li><li><a href="global.html#LayerTransitionBase">LayerTransitionBase</a></li><li><a href="global.html#namespace">namespace</a></li><li><a href="global.html#pushLayer">pushLayer</a></li><li><a href="global.html#usingNamespace">usingNamespace</a></li><li><a href="global.html#View">View</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha9</a> on Fri Oct 31 2014 08:28:23 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
